# Vue 3 å‰ç«¯å®žçŽ°æŒ‡å— - å¿«é€Ÿå®Œæˆæ­¥éª¤

## å½“å‰è¿›åº¦

âœ… åŽç«¯å·²å®Œæˆ:
- conversation ç®¡ç† API
- èŠå¤©æŽ¥å£æ”¯æŒ conversation_id
- ä¼šè¯éš”ç¦» (session_name)

âœ… å‰ç«¯æ ¸å¿ƒä»£ç å·²å®Œæˆ:
- `src/types/chat.ts` - TypeScript ç±»åž‹å®šä¹‰
- `src/api/chat.ts` - API è°ƒç”¨æ¨¡å—
- `src/composables/useConversation.ts` - Conversation ç®¡ç†
- `src/composables/useSession.ts` - Session ç®¡ç†
- `src/stores/chatStore.ts` - Pinia çŠ¶æ€ç®¡ç†

## ä¸‹ä¸€æ­¥: å®Œæˆå‰ç«¯ç»„ä»¶

### æ–¹æ¡ˆ 1: ä½¿ç”¨æˆ‘å‡†å¤‡å¥½çš„å®Œæ•´ä»£ç  (æŽ¨è)

æˆ‘å·²ç»å‡†å¤‡å¥½äº†å®Œæ•´çš„ App.vue ç»„ä»¶ä»£ç ,åŒ…å«:
- èŠå¤©ç•Œé¢
- åŽ†å²å¯¹è¯èœå• (æ–°å¯¹è¯ / æ–°ä¼šè¯)
- æµå¼æ¶ˆæ¯æ˜¾ç¤º
- å®Œæ•´æ ·å¼

**æ‰§è¡Œæ­¥éª¤**:

```bash
cd /home/yzh/AIå®¢æœ/é‰´æƒ/frontend

# 1. å¤åˆ¶æˆ‘å‡†å¤‡çš„å®Œæ•´ App.vue (ä»£ç è§ä¸‹æ–¹)

# 2. é…ç½®çŽ¯å¢ƒå˜é‡
cat > .env.local << 'EOF'
VITE_API_BASE=http://localhost:8000
EOF

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

**å®Œæ•´ App.vue ä»£ç **: (è¯·å¤åˆ¶åˆ° `frontend/src/App.vue`)

[ä»£ç å¤ªé•¿,æˆ‘ä¼šåœ¨ä¸‹ä¸€ä¸ªå“åº”ä¸­æä¾›,æˆ–è€…æ‚¨å¯ä»¥è®©æˆ‘ç›´æŽ¥å†™å…¥æ–‡ä»¶]

### æ–¹æ¡ˆ 2: ä¿æŒå½“å‰ HTML (ä¸´æ—¶æ–¹æ¡ˆ)

å¦‚æžœæ‚¨æƒ³å…ˆæµ‹è¯•åŽç«¯åŠŸèƒ½,å¯ä»¥ç»§ç»­ä½¿ç”¨ `index2.html`,æˆ‘åªéœ€è¦åœ¨å…¶ä¸­æ·»åŠ  conversation ç®¡ç†çš„ JavaScript ä»£ç :

```bash
# å¯åŠ¨åŽç«¯
python3 backend.py

# è®¿é—®
http://localhost:8000/
```

æˆ‘éœ€è¦ä¿®æ”¹ `index2.html` æ·»åŠ :
1. conversation_id ç®¡ç†
2. æ–°å¯¹è¯/æ–°ä¼šè¯èœå•
3. åœ¨å‘é€æ¶ˆæ¯æ—¶æºå¸¦ conversation_id

## æµ‹è¯•è®¡åˆ’

### æµ‹è¯• 1: åŽ†å²å¯¹è¯ä¿ç•™

```
1. æ‰“å¼€é¡µé¢
2. å‘é€: "æˆ‘å«å¼ ä¸‰"
3. å‘é€: "æˆ‘å¤šå¤§?" â†’ åº”è¯¥åŸºäºŽä¸Šä¸‹æ–‡å›žç­”
4. å‘é€: "æˆ‘å«ä»€ä¹ˆ?" â†’ åº”è¯¥å›žç­” "å¼ ä¸‰"
âœ… éªŒè¯: æœ‰ conversation_id ä¿ç•™ä¸Šä¸‹æ–‡
```

### æµ‹è¯• 2: æ–°å¯¹è¯åŠŸèƒ½

```
1. å‘é€: "æˆ‘å«å¼ ä¸‰"
2. ç‚¹å‡»åŠ å· â†’ é€‰æ‹©"æ–°å¯¹è¯"
3. å‘é€: "æˆ‘å«ä»€ä¹ˆ?" â†’ åº”è¯¥å›žç­” "æ‚¨è¿˜æ²¡å‘Šè¯‰æˆ‘"
âœ… éªŒè¯: conversation_id æ”¹å˜,åŽ†å²æ¸…ç©º
```

### æµ‹è¯• 3: æ–°ä¼šè¯åŠŸèƒ½

```
1. å‘é€: "æˆ‘å«å¼ ä¸‰"
2. ç‚¹å‡»åŠ å· â†’ é€‰æ‹©"æ–°ä¼šè¯"(é¡µé¢åˆ·æ–°)
3. å‘é€: "æˆ‘å«ä»€ä¹ˆ?" â†’ åº”è¯¥å›žç­” "æ‚¨è¿˜æ²¡å‘Šè¯‰æˆ‘"
âœ… éªŒè¯: session_id å’Œ conversation_id éƒ½æ”¹å˜
```

## åŽç«¯æ—¥å¿—éªŒè¯

å¯åŠ¨åŽç«¯åŽ,æ‚¨åº”è¯¥çœ‹åˆ°ç±»ä¼¼æ—¥å¿—:

```
âœ… åˆ›å»ºæ–° Conversation: conv_abc123 (session: session_xyz789)
ðŸ” æµå¼ä¼šè¯éš”ç¦»: session_name=session_xyz789
ðŸ’¬ æµå¼æŽ¥å£ä½¿ç”¨ Conversation: conv_abc123
```

## æ‚¨å¸Œæœ›æˆ‘å¦‚ä½•è¿›è¡Œ?

è¯·å‘Šè¯‰æˆ‘æ‚¨çš„é€‰æ‹©:

**é€‰é¡¹ A**: æˆ‘å¸®æ‚¨å®Œæˆ Vue 3 å‰ç«¯ (æŽ¨è)
- æˆ‘ä¼šå†™å…¥å®Œæ•´çš„ App.vue
- é…ç½® Vite
- æä¾›å¯åŠ¨æŒ‡ä»¤

**é€‰é¡¹ B**: æˆ‘ä¿®æ”¹çŽ°æœ‰çš„ index2.html æ·»åŠ  conversation åŠŸèƒ½
- å¿«é€Ÿæµ‹è¯•åŽç«¯åŠŸèƒ½
- ä¸éœ€è¦å¯åŠ¨ npm dev server

**é€‰é¡¹ C**: æˆ‘æä¾›å®Œæ•´ä»£ç æ–‡ä»¶,æ‚¨è‡ªè¡Œæ›¿æ¢
- æˆ‘åˆ›å»ºæ‰€æœ‰æ–‡ä»¶åˆ° `frontend/src/`
- æ‚¨æ‰§è¡Œ `npm run dev` å¯åŠ¨

è¯·å‘Šè¯‰æˆ‘æ‚¨çš„é€‰æ‹©,æˆ‘ç«‹å³æ‰§è¡Œ!

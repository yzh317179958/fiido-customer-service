# Fiido æ™ºèƒ½å®¢æœç³»ç»Ÿ

åŸºäº Coze å¯¹è¯æµçš„æ™ºèƒ½å®¢æœç³»ç»Ÿï¼Œæ”¯æŒ OAuth+JWT é‰´æƒã€ä¼šè¯éš”ç¦»å’Œä¸‰ç§å‰ç«¯ç‰ˆæœ¬ã€‚

[![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)](https://www.python.org)
[![FastAPI](https://img.shields.io/badge/FastAPI-Latest-green.svg)](https://fastapi.tiangolo.com)
[![Vue](https://img.shields.io/badge/Vue-3.5-brightgreen.svg)](https://vuejs.org)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.7-blue.svg)](https://www.typescriptlang.org)
[![Coze](https://img.shields.io/badge/Coze-Workflow-orange.svg)](https://www.coze.com)

---

## ğŸ¯ é‡è¦æ–‡æ¡£ï¼ˆå¿…è¯»ï¼‰

### ä¼šè¯éš”ç¦»è§£å†³æ–¹æ¡ˆ

âš ï¸ **å¦‚æœæ‚¨åœ¨å®ç°å¤šç”¨æˆ·ä¼šè¯éš”ç¦»æ—¶é‡åˆ°é—®é¢˜ï¼Œå¿…è¯»æ­¤æ–‡æ¡£ï¼š**

ğŸ“– **[Cozeä¼šè¯éš”ç¦»æœ€ç»ˆè§£å†³æ–¹æ¡ˆ.md](./Cozeä¼šè¯éš”ç¦»æœ€ç»ˆè§£å†³æ–¹æ¡ˆ.md)** ï¼ˆäº²æµ‹æœ‰æ•ˆï¼‰

**æ ¸å¿ƒè¦ç‚¹**ï¼š
- âœ… å¿…é¡»åœ¨ç”¨æˆ·æ‰“å¼€é¡µé¢æ—¶ç«‹å³è°ƒç”¨ `conversations.create()` API
- âŒ ä¸èƒ½ä¾èµ–é¦–æ¬¡å¯¹è¯æ—¶ Coze è‡ªåŠ¨ç”Ÿæˆ conversation_id
- âœ… è¿™æ˜¯åŸºäº Coze å¼€å‘çš„æ­£ç¡®å®è·µï¼Œå·²å®é™…éªŒè¯é€šè¿‡

**é—®é¢˜ç¤ºä¾‹**ï¼š
```
çª—å£ 1: "æˆ‘æ˜¯å­è±ª"
çª—å£ 2: "æˆ‘æ˜¯è°ï¼Ÿ"
AI å›ç­”: "ä½ æ˜¯å­è±ª" â† è¿™æ˜¯é”™è¯¯çš„ï¼åº”è¯¥ä¸çŸ¥é“
```

**è§£å†³æ–¹æ¡ˆè§**: [å®Œæ•´æ–‡æ¡£](./Cozeä¼šè¯éš”ç¦»æœ€ç»ˆè§£å†³æ–¹æ¡ˆ.md)

---

## âœ¨ ç‰¹æ€§

### åç«¯ç‰¹æ€§
- âœ… **OAuth+JWT é‰´æƒ** - å®‰å…¨çš„è®¿é—®å¯†é’¥ç®¡ç†
- âœ… **ä¼šè¯éš”ç¦»** - åŸºäº `session_name` çš„å¤šç”¨æˆ·ä¼šè¯éš”ç¦»
- âœ… **å¯¹è¯å†å²ç®¡ç†** - åŸºäº `conversation_id` çš„å†å²ä¿ç•™
- âœ… **æµå¼/åŒæ­¥åŒæ¥å£** - æ”¯æŒå®æ—¶å“åº”å’Œæ‰¹é‡å“åº”
- âœ… **Token è‡ªåŠ¨ç®¡ç†** - æŒ‰ä¼šè¯ç¼“å­˜å’Œåˆ·æ–° JWT Token
- âœ… **Chat SDK æ”¯æŒ** - æä¾›å‰ç«¯ SDK token ç”Ÿæˆæ¥å£

### å‰ç«¯ç‰¹æ€§
- âœ… **Vue 3 æ¡†æ¶ç‰ˆæœ¬** - ç°ä»£åŒ–çš„å‰ç«¯æ¶æ„
- âœ… **Fiido å®˜ç½‘è®¾è®¡** - å®Œå…¨å¤åˆ» fiido.com ç•Œé¢é£æ ¼
- âœ… **æµå¼å“åº”** - é€å­—æ˜¾ç¤ºAIå›å¤
- âœ… **Markdown æ¸²æŸ“** - æ”¯æŒå¯Œæ–‡æœ¬æ¶ˆæ¯
- âœ… **æ°”æ³¡èœå•** - ä¼˜é›…çš„æµ®åŠ¨æ“ä½œèœå•
- âœ… **å¯¹è¯/ä¼šè¯ç®¡ç†** - æ¸…é™¤å¯¹è¯ã€æ–°å»ºä¼šè¯åŠŸèƒ½
- âœ… **å†å²åˆ†éš”çº¿** - æ¸…æ™°åŒºåˆ†å¯¹è¯å†å²
- âœ… **äº§å“å’¨è¯¢** - å¿«æ·äº§å“å’¨è¯¢å…¥å£
- âœ… **å“åº”å¼è®¾è®¡** - æ”¯æŒç§»åŠ¨ç«¯å’ŒPCç«¯
- âœ… **å±€åŸŸç½‘è®¿é—®** - æ”¯æŒåŒä¸€ç½‘ç»œä¸‹å¤šè®¾å¤‡è®¿é—®

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åç«¯å¯åŠ¨

#### 1. ç¯å¢ƒè¦æ±‚

- Python 3.10+
- pip æˆ– pip3

#### 2. å®‰è£…ä¾èµ–

```bash
pip3 install -r requirements.txt
```

#### 3. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶:

```bash
# Coze API é…ç½®
COZE_API_BASE=https://api.coze.com
COZE_AUTH_MODE=OAUTH_JWT
COZE_WORKFLOW_ID=ä½ çš„å·¥ä½œæµID
COZE_APP_ID=ä½ çš„åº”ç”¨ID

# OAuth é…ç½®
COZE_OAUTH_CLIENT_ID=ä½ çš„ClientID
COZE_OAUTH_PUBLIC_KEY_ID=ä½ çš„å…¬é’¥æŒ‡çº¹
COZE_OAUTH_PRIVATE_KEY_FILE=./private_key.pem

# æœåŠ¡å™¨é…ç½®
HOST=0.0.0.0
PORT=8000
```

è¯¦ç»†é…ç½®è¯´æ˜è§ [é…ç½®æŒ‡å—](docs/é…ç½®æŒ‡å—.md)

#### 4. å¯åŠ¨æœåŠ¡

```bash
python3 backend.py
```

æœåŠ¡å°†åœ¨ `http://localhost:8000` å¯åŠ¨

---

### å‰ç«¯å¯åŠ¨

æœ¬é¡¹ç›®æä¾›**ä¸‰ä¸ªå®Œæ•´çš„å‰ç«¯ç‰ˆæœ¬**,æ ¹æ®éœ€æ±‚é€‰æ‹©:

#### ç‰ˆæœ¬ 1: index2.html (å•æ–‡ä»¶ç‰ˆæœ¬) â­ æ¨èå¿«é€Ÿæ¼”ç¤º

**ç‰¹ç‚¹**:
- âœ… å•ä¸ªHTMLæ–‡ä»¶,å¼€ç®±å³ç”¨
- âœ… å®Œå…¨å¤åˆ» Fiido.com è®¾è®¡
- âœ… æ‰€æœ‰åŠŸèƒ½å®Œæ•´
- âœ… æ— éœ€ç¼–è¯‘

**å¯åŠ¨æ–¹å¼**:
```bash
# å¯åŠ¨åç«¯å,ç›´æ¥è®¿é—®
http://localhost:8000
```

#### ç‰ˆæœ¬ 2: index_chat_sdk.html (Coze SDK ç‰ˆæœ¬)

**ç‰¹ç‚¹**:
- âœ… ä½¿ç”¨å®˜æ–¹ Coze Chat SDK
- âœ… å‰ç«¯ç›´è¿ Coze API
- âœ… JWT Token ç”Ÿæˆ
- âœ… Conversation ç®¡ç†

**å¯åŠ¨æ–¹å¼**:
```bash
# ä¿®æ”¹ backend.py line 211:
# index_path = os.path.join(CURRENT_DIR, "index_chat_sdk.html")
# ç„¶åè®¿é—®
http://localhost:8000
```

#### ç‰ˆæœ¬ 3: Vue 3 + TypeScript (ç°ä»£åŒ–æ¡†æ¶) â­ æ¨èç”Ÿäº§ç¯å¢ƒ

**ç‰¹ç‚¹**:
- âœ… Vue 3 + TypeScript + Pinia
- âœ… ç»„ä»¶åŒ–æ¶æ„,æ˜“äºç»´æŠ¤
- âœ… å®Œå…¨å¤åˆ» Fiido.com è®¾è®¡
- âœ… çƒ­é‡è½½å¼€å‘ä½“éªŒ
- âœ… ç±»å‹å®‰å…¨
- âœ… æ”¯æŒå±€åŸŸç½‘è®¿é—®

**å¯åŠ¨æ–¹å¼**:

**æ–¹å¼ A: æ‰‹åŠ¨å¯åŠ¨**
```bash
cd frontend
npm install
npm run dev
# è®¿é—® http://localhost:5173
```

**æ–¹å¼ B: ä½¿ç”¨å¯åŠ¨è„šæœ¬**
```bash
./å¯åŠ¨-Vueå‰ç«¯.sh
# è®¿é—® http://localhost:5173
```

**å±€åŸŸç½‘è®¿é—®**:
```
http://192.168.1.133:5173
```

---

## ğŸ“¦ ç‰ˆæœ¬å¯¹æ¯”

| ç‰¹æ€§ | index2.html | index_chat_sdk.html | Vue 3 ç‰ˆæœ¬ |
|------|-------------|---------------------|-----------|
| **æŠ€æœ¯æ ˆ** | åŸç”Ÿ HTML/CSS/JS | HTML + Coze SDK | Vue 3 + TS |
| **ä»£ç ç»„ç»‡** | å•æ–‡ä»¶ | å•æ–‡ä»¶ | ç»„ä»¶åŒ– (8ä¸ªç»„ä»¶) |
| **ç±»å‹å®‰å…¨** | æ—  | æ—  | TypeScript âœ… |
| **çŠ¶æ€ç®¡ç†** | å…¨å±€å˜é‡ | å…¨å±€å˜é‡ | Pinia âœ… |
| **å¼€å‘ä½“éªŒ** | ä¸­ | ä¸­ | ä¼˜ç§€ (HMR) âœ… |
| **ç»´æŠ¤æ€§** | ä¸­ | ä¸­ | ä¼˜ç§€ âœ… |
| **éƒ¨ç½²å¤æ‚åº¦** | ä½ â­ | ä½ â­ | ä¸­ |
| **åç«¯ä¾èµ–** | éœ€è¦ | éƒ¨åˆ†éœ€è¦ | éœ€è¦ |
| **é€‚ç”¨åœºæ™¯** | å¿«é€Ÿæ¼”ç¤º | SDKæµ‹è¯• | ç”Ÿäº§ç¯å¢ƒ â­ |

**é€‰æ‹©å»ºè®®**:
- **å¿«é€Ÿæ¼”ç¤º**: ä½¿ç”¨ `index2.html`
- **å­¦ä¹  SDK**: ä½¿ç”¨ `index_chat_sdk.html`
- **ç”Ÿäº§éƒ¨ç½²**: ä½¿ç”¨ `Vue 3 ç‰ˆæœ¬`

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
fiido-customer-service/
â”œâ”€â”€ README.md                       # é¡¹ç›®è¯´æ˜ â­ å·²æ›´æ–°
â”œâ”€â”€ CHANGELOG.md                    # æ›´æ–°æ—¥å¿— â­ æ–°å¢
â”œâ”€â”€ requirements.txt                # Python ä¾èµ–
â”œâ”€â”€ .env                            # ç¯å¢ƒå˜é‡é…ç½®
â”œâ”€â”€ private_key.pem                 # OAuth ç§é’¥
â”‚
â”œâ”€â”€ backend.py                      # FastAPI åç«¯ä¸»ç¨‹åº â­ å·²æ›´æ–°
â”œâ”€â”€ index2.html                     # å‰ç«¯é¡µé¢ (ç‰ˆæœ¬1) â­ å·²æ›´æ–°
â”œâ”€â”€ index_chat_sdk.html             # Coze SDK ç‰ˆæœ¬ (ç‰ˆæœ¬2) â­ æ–°å¢
â”œâ”€â”€ fiido2.png                      # å®¢æœå¤´åƒ
â”œâ”€â”€ å¯åŠ¨-Vueå‰ç«¯.sh                  # Vue å¯åŠ¨è„šæœ¬ â­ æ–°å¢
â”œâ”€â”€ ä½¿ç”¨è¯´æ˜-æœ€ç»ˆç‰ˆ.md               # ä½¿ç”¨è¯´æ˜ â­ æ–°å¢
â”œâ”€â”€ å®Œæ•´æ€»ç»“.md                     # å®Œæ•´æ€»ç»“ â­ æ–°å¢
â”‚
â”œâ”€â”€ frontend/                       # Vue 3 å‰ç«¯ (ç‰ˆæœ¬3) â­ æ–°å¢
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.ts                 # åº”ç”¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ App.vue                 # æ ¹ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ components/             # Vue ç»„ä»¶ (8ä¸ª)
â”‚   â”‚   â”‚   â”œâ”€â”€ AppHeader.vue       # å¯¼èˆªæ 
â”‚   â”‚   â”‚   â”œâ”€â”€ HeroSection.vue     # HeroåŒºåŸŸ
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductsSection.vue # äº§å“å±•ç¤º
â”‚   â”‚   â”‚   â”œâ”€â”€ AppFooter.vue       # é¡µè„š
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatFloatButton.vue # æµ®åŠ¨æŒ‰é’®
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatPanel.vue       # èŠå¤©é¢æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatMessage.vue     # æ¶ˆæ¯ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ WelcomeScreen.vue   # æ¬¢è¿å±å¹•
â”‚   â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”‚   â””â”€â”€ chatStore.ts        # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â””â”€â”€ chat.ts             # API æ¥å£
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”‚   â””â”€â”€ index.ts            # TypeScript ç±»å‹
â”‚   â”‚   â””â”€â”€ assets/
â”‚   â”‚       â””â”€â”€ main.css            # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ index.html                  # HTML å…¥å£
â”‚   â”œâ”€â”€ vite.config.ts              # Vite é…ç½®
â”‚   â”œâ”€â”€ package.json                # ä¾èµ–é…ç½®
â”‚   â”œâ”€â”€ .env                        # ç¯å¢ƒå˜é‡
â”‚   â””â”€â”€ README_CN.md                # Vue ç‰ˆæœ¬æ–‡æ¡£ â­ æ–°å¢
â”‚
â”œâ”€â”€ src/                            # åç«¯æºä»£ç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ jwt_signer.py               # JWT ç­¾åå·¥å…·
â”‚   â””â”€â”€ oauth_token_manager.py      # OAuth Token ç®¡ç†å™¨
â”‚
â”œâ”€â”€ tests/                          # æµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ test_simple.py              # ç®€å•ä¼šè¯éš”ç¦»æµ‹è¯•
â”‚   â”œâ”€â”€ test_session_name.py        # å®Œæ•´ä¼šè¯éš”ç¦»æµ‹è¯•
â”‚   â””â”€â”€ test_session_isolation.py   # æ—§ç‰ˆæµ‹è¯•(å·²åºŸå¼ƒ)
â”‚
â”œâ”€â”€ docs/                           # æ–‡æ¡£
â”‚   â”œâ”€â”€ é…ç½®æŒ‡å—.md                  # é…ç½®è¯´æ˜
â”‚   â””â”€â”€ ä¼šè¯éš”ç¦»å®ç°å†ç¨‹.md          # å®ç°è¿‡ç¨‹è®°å½•
â”‚
â””â”€â”€ archive/                        # å½’æ¡£æ–‡ä»¶
    â”œâ”€â”€ backend_backup_*.py         # ä»£ç å¤‡ä»½
    â”œâ”€â”€ *.log                       # æ—¥å¿—æ–‡ä»¶
    â””â”€â”€ *.html                      # æµ‹è¯•é¡µé¢
```

**â­ æ ‡æ³¨è¯´æ˜**:
- `â­ æ–°å¢` - v2.1.0 æ–°å¢æ–‡ä»¶
- `â­ å·²æ›´æ–°` - v2.1.0 ä¿®æ”¹çš„æ–‡ä»¶

---

## ğŸ”Œ API æ¥å£

### 1. èŠå¤©æ¥å£ (åŒæ­¥)

**è¯·æ±‚**:
```bash
POST /api/chat
Content-Type: application/json

{
  "message": "ä½ å¥½",
  "user_id": "session_abc123",  # å¯é€‰,ä¸æä¾›åˆ™è‡ªåŠ¨ç”Ÿæˆ
  "conversation_id": "conv_123"  # â­ æ–°å¢: å¯é€‰,ç”¨äºä¿ç•™å†å²
}
```

**å“åº”**:
```json
{
  "success": true,
  "message": "æ‚¨å¥½ï¼æœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©æ‚¨çš„ï¼Ÿ"
}
```

### 2. èŠå¤©æ¥å£ (æµå¼)

**è¯·æ±‚**:
```bash
POST /api/chat/stream
Content-Type: application/json

{
  "message": "ä½ å¥½",
  "user_id": "session_abc123",
  "conversation_id": "conv_123"  # â­ æ–°å¢: å¯é€‰
}
```

**å“åº”** (Server-Sent Events):
```
data: {"type": "message", "content": "æ‚¨"}
data: {"type": "message", "content": "å¥½"}
data: {"type": "message", "content": "ï¼"}
data: {"type": "done", "content": ""}
```

### 3. åˆ›å»ºæ–°å¯¹è¯ â­ æ–°å¢

**è¯·æ±‚**:
```bash
POST /api/conversation/new
Content-Type: application/json

{
  "user_id": "session_abc123"
}
```

**å“åº”**:
```json
{
  "success": true,
  "conversation_id": "conv_7433558367123783713"
}
```

### 4. ç”Ÿæˆ Chat SDK Token â­ æ–°å¢

**è¯·æ±‚**:
```bash
POST /api/chat/token
Content-Type: application/json

{
  "user_id": "session_abc123"
}
```

**å“åº”**:
```json
{
  "success": true,
  "token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",
  "expires_in": 3600
}
```

### 5. è·å– Bot ä¿¡æ¯ â­ æ–°å¢

**è¯·æ±‚**:
```bash
GET /api/bot/info
```

**å“åº”**:
```json
{
  "success": true,
  "bot": {
    "name": "Fiido å®¢æœ",
    "description": "Fiido æ™ºèƒ½å®¢æœåŠ©æ‰‹",
    "icon_url": "https://..."
  }
}
```

### 6. å¥åº·æ£€æŸ¥

```bash
GET /api/health
```

---

## ä¼šè¯éš”ç¦»æœºåˆ¶

æœ¬ç³»ç»Ÿå®ç°äº†åŸºäº `session_name` çš„å¤šç”¨æˆ·ä¼šè¯éš”ç¦»:

### å·¥ä½œåŸç†

```
å‰ç«¯è®¿é—® â†’ ç”Ÿæˆ session_id
    â†“
åç«¯æ¥æ”¶ user_id (session_id)
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. JWT ç­¾ç½²æ—¶æ·»åŠ            â”‚
â”‚    jwt_payload["session_name"] = user_id
â”‚                             â”‚
â”‚ 2. API è¯·æ±‚æ—¶æ·»åŠ            â”‚
â”‚    api_payload["session_name"] = user_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
æ‰£å­å¹³å°æ ¹æ® session_name éš”ç¦»ä¼šè¯
```

### å…³é”®å®ç°

**JWT ç­¾ç½²** (`src/jwt_signer.py:117-118`):
```python
if session_name:
    payload["session_name"] = session_name
```

**API è¯·æ±‚** (`backend.py:324`):
```python
payload = {
    "workflow_id": WORKFLOW_ID,
    "app_id": APP_ID,
    "session_name": session_id,  # â† å…³é”®å­—æ®µ
    "parameters": {"USER_INPUT": message}
}
```

è¯¦ç»†å®ç°è¿‡ç¨‹è§ [ä¼šè¯éš”ç¦»å®ç°å†ç¨‹](docs/ä¼šè¯éš”ç¦»å®ç°å†ç¨‹.md)

---

## æµ‹è¯•

### ç®€å•æµ‹è¯• (æ¨è)

```bash
python3 tests/test_simple.py
```

**æµ‹è¯•å†…å®¹**:
- ç”¨æˆ· A: "æˆ‘å«å¼ ä¸‰"
- ç”¨æˆ· B: "æˆ‘å«æå››"
- ç”¨æˆ· A ç¬¬äºŒè½®: "æˆ‘å«ä»€ä¹ˆ?" â†’ æœŸæœ›å›ç­” "å¼ ä¸‰"

### å®Œæ•´æµ‹è¯•

```bash
python3 tests/test_session_name.py
```

---

## å¸¸è§é—®é¢˜

### Q: ä¼šè¯éš”ç¦»ä¸ç”Ÿæ•ˆæ€ä¹ˆåŠ?

**A**: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹:
1. ç¡®è®¤ `backend.py:324` æ·»åŠ äº† `"session_name": session_id`
2. ç¡®è®¤æµå¼æ¥å£ `backend.py:449` ä¹Ÿæ·»åŠ äº† session_name
3. è¿è¡Œæµ‹è¯•éªŒè¯: `python3 tests/test_simple.py`

### Q: æç¤º "COZE_WORKFLOW_ID ç¯å¢ƒå˜é‡æœªè®¾ç½®"?

**A**:
1. ç¡®è®¤ `.env` æ–‡ä»¶å­˜åœ¨
2. æ£€æŸ¥æ–‡ä»¶å†…å®¹æ˜¯å¦æ­£ç¡®
3. é‡å¯åç«¯æœåŠ¡

æ›´å¤šé—®é¢˜è§ [é…ç½®æŒ‡å—](docs/é…ç½®æŒ‡å—.md#å¸¸è§é—®é¢˜)

---

## æŠ€æœ¯æ ˆ

- **åç«¯æ¡†æ¶**: FastAPI
- **HTTP å®¢æˆ·ç«¯**: httpx
- **JWT å¤„ç†**: PyJWT
- **AI å¹³å°**: Coze Workflow
- **é‰´æƒæ–¹å¼**: OAuth 2.0 + JWT

---

## ğŸ“š æ–‡æ¡£

- [CHANGELOG.md](CHANGELOG.md) - è¯¦ç»†æ›´æ–°æ—¥å¿— â­ æ–°å¢
- [å®Œæ•´æ€»ç»“.md](å®Œæ•´æ€»ç»“.md) - ä¸‰ä¸ªå‰ç«¯ç‰ˆæœ¬å®Œæ•´å¯¹æ¯” â­ æ–°å¢
- [ä½¿ç”¨è¯´æ˜-æœ€ç»ˆç‰ˆ.md](ä½¿ç”¨è¯´æ˜-æœ€ç»ˆç‰ˆ.md) - index2.html ä½¿ç”¨æŒ‡å— â­ æ–°å¢
- [frontend/README_CN.md](frontend/README_CN.md) - Vue 3 ç‰ˆæœ¬æ–‡æ¡£ â­ æ–°å¢
- [é…ç½®æŒ‡å—](docs/é…ç½®æŒ‡å—.md) - ç¯å¢ƒé…ç½®å’Œ Coze å¹³å°è®¾ç½®
- [ä¼šè¯éš”ç¦»å®ç°å†ç¨‹](docs/ä¼šè¯éš”ç¦»å®ç°å†ç¨‹.md) - ä»é—®é¢˜åˆ°è§£å†³çš„å®Œæ•´è¿‡ç¨‹

---

## ğŸ§ª æµ‹è¯•

### å¥åº·æ£€æŸ¥
```bash
curl http://localhost:8000/api/health
```

### ç®€å•æµ‹è¯• (æ¨è)

```bash
python3 tests/test_simple.py
```

**æµ‹è¯•å†…å®¹**:
- ç”¨æˆ· A: "æˆ‘å«å¼ ä¸‰"
- ç”¨æˆ· B: "æˆ‘å«æå››"
- ç”¨æˆ· A ç¬¬äºŒè½®: "æˆ‘å«ä»€ä¹ˆ?" â†’ æœŸæœ›å›ç­” "å¼ ä¸‰"

### å®Œæ•´æµ‹è¯•

```bash
python3 tests/test_session_name.py
```

---
## ğŸ“Š ç‰ˆæœ¬å†å²

### v2.2.0 (2025-11-20) - å½»åº•è§£å†³ä¼šè¯éš”ç¦»ï¼Œä¼˜åŒ–UIç•Œé¢ â­

**ä¼šè¯éš”ç¦»é‡å¤§çªç ´**:
- âœ… **å½»åº•è§£å†³ä¼šè¯éš”ç¦»é—®é¢˜** - ç”¨æˆ·æ‰“å¼€é¡µé¢æ—¶ç«‹å³è°ƒç”¨ `conversations.create()` API
- âœ… **å®Œæ•´æ–‡æ¡£ä½“ç³»** - åˆ›å»ºã€ŠCozeä¼šè¯éš”ç¦»æœ€ç»ˆè§£å†³æ–¹æ¡ˆ.mdã€‹ï¼ˆäº²æµ‹æœ‰æ•ˆï¼‰
- âœ… **å®æµ‹éªŒè¯é€šè¿‡** - æ¯ä¸ªsessionè·å¾—ç‹¬ç«‹çš„conversation_id
- âœ… **æ›´æ–°PRDæ–‡æ¡£** - åœ¨prd/coze.mdä¸­è¡¥å……æ­£ç¡®å®ç°æ–¹å¼

**å‰ç«¯UIä¼˜åŒ–**:
- âœ… **æ°”æ³¡èœå•è®¾è®¡** - è¾“å…¥æ¡†å·¦ä¾§æµ®åŠ¨æ°”æ³¡èœå•ï¼Œç‚¹å‡»å±•å¼€ä¸¤ä¸ªæ“ä½œé€‰é¡¹
- âœ… **æ¸…é™¤å¯¹è¯åŠŸèƒ½** - æ·»åŠ å†å²åˆ†éš”çº¿ï¼Œä¸æ¸…ç©ºå¯¹è¯å†…å®¹
- âœ… **æ–°å»ºä¼šè¯åŠŸèƒ½** - ç«‹å³æ¸…ç©ºç•Œé¢ï¼Œå¼‚æ­¥åˆ›å»ºæ–°ä¼šè¯ï¼Œæ— å¡é¡¿
- âœ… **å¤´åƒä¼˜åŒ–** - ä½¿ç”¨fiido2.pngï¼Œ42pxå°ºå¯¸ï¼Œcontainé€‚é…
- âœ… **åˆ†éš”çº¿ç»„ä»¶** - æ”¯æŒç³»ç»Ÿæ¶ˆæ¯ç±»å‹ï¼Œæ¸å˜åˆ†éš”çº¿æ ·å¼

**åç«¯ä¼˜åŒ–**:
- âœ… **å›¾ç‰‡æœåŠ¡** - æ·»åŠ  `/fiido2.png` è·¯ç”±ï¼Œæä¾›å¤´åƒæ–‡ä»¶
- âœ… **ä¼šè¯åˆå§‹åŒ–** - å‰ç«¯é¡µé¢åŠ è½½æ—¶ç«‹å³åˆ›å»ºconversation

**æ–‡æ¡£æ•´ç†**:
- âœ… åˆ›å»ºæ ¸å¿ƒæ–‡æ¡£ã€ŠCozeä¼šè¯éš”ç¦»æœ€ç»ˆè§£å†³æ–¹æ¡ˆ.mdã€‹
- âœ… åˆ›å»ºã€Šæ–‡æ¡£æ¸…å•.mdã€‹ç´¢å¼•æ‰€æœ‰æ–‡æ¡£
- âœ… åˆ›å»ºã€Šæ–‡æ¡£æ•´ç†å®Œæˆæ€»ç»“.mdã€‹
- âœ… æ›´æ–° prd/coze.md æ·»åŠ 1.2èŠ‚"ä¼šè¯éš”ç¦»çš„æ­£ç¡®å®ç°æ–¹å¼"
- âœ… åˆ é™¤æ‰€æœ‰è¿‡æ—¶çš„è¯Šæ–­æ–‡æ¡£

### v2.1.0 (2025-11-19) - ä¸‰å‰ç«¯ç‰ˆæœ¬å‘å¸ƒ

**åç«¯æ›´æ–°**:
- âœ… æ–°å¢ `conversation_id` å‚æ•°æ”¯æŒ
- âœ… æ–°å¢ `POST /api/conversation/new` API
- âœ… æ–°å¢ `POST /api/chat/token` API (ä¸º Chat SDK ç”Ÿæˆ JWT)
- âœ… æ–°å¢ `GET /api/bot/info` API
- âœ… é›†æˆ `JWTOAuthApp` ç”¨äº SDK token ç”Ÿæˆ

**å‰ç«¯æ›´æ–°**:
- âœ… æ–°å¢ Vue 3 + TypeScript ç°ä»£åŒ–ç‰ˆæœ¬ (`frontend/`)
- âœ… æ–°å¢ Coze Chat SDK ç‰ˆæœ¬ (`index_chat_sdk.html`)
- âœ… å¢å¼º index2.html - æ·»åŠ "æ–°å¯¹è¯"/"æ–°ä¼šè¯"åŠŸèƒ½
- âœ… å®Œå…¨å¤åˆ» Fiido.com å®˜ç½‘è®¾è®¡
- âœ… æ”¯æŒå±€åŸŸç½‘è®¿é—® (`host: true`)

**æ–‡æ¡£æ›´æ–°**:
- âœ… æ–°å¢ `CHANGELOG.md` - è¯¦ç»†æ›´æ–°æ—¥å¿—
- âœ… æ–°å¢ `å®Œæ•´æ€»ç»“.md` - ç‰ˆæœ¬å¯¹æ¯”æ–‡æ¡£
- âœ… æ–°å¢ `ä½¿ç”¨è¯´æ˜-æœ€ç»ˆç‰ˆ.md`
- âœ… æ–°å¢ `frontend/README_CN.md`
- âœ… æ›´æ–° `README.md` - æ·»åŠ ä¸‰ç‰ˆæœ¬è¯´æ˜

### v2.0.0 (2025-11-18) - ä¼šè¯éš”ç¦»å®ç°

- âœ… å®ç°åŸºäº session_name çš„ä¼šè¯éš”ç¦»
- âœ… åŒé‡æ·»åŠ  session_name (JWT + API payload)
- âœ… å®Œæ•´çš„æµ‹è¯•éªŒè¯
- âœ… æ–‡æ¡£æ•´ç†å’Œè§„èŒƒåŒ–

---

**æœ€åæ›´æ–°**: 2025-11-20
**å½“å‰ç‰ˆæœ¬**: v2.2.0

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request!

## ğŸ“„ è®¸å¯è¯

MIT License

---

Made with â¤ï¸ by Claude Code
